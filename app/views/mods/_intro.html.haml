-# Display an introduction for a module.
-# Variables:
-# * mod: Mod record to display. Required.
-# * docs: Display docs? Defaults to true.
- mod = local_assigns[:mod]
- docs = local_assigns[:docs] != false

- cache "mods-intro_#{mod.id}" do
  %div.details
    %p.meta
      - if mod.current_release
        - mod.current_release.tap do |release|
          = link_to("Version #{release.version}", vanity_release_path(mod.owner, mod, release))
          &middot;
          = release.created_at.to_date.to_s(:long)
      - else
        %span
          Not released
      - if mod.tags.size > 0
        &middot;
        = tag_list mod

    - if docs
      %div.introduction~ markdown(mod.description)
